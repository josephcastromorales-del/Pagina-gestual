<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>TechStore - Voice Navigation</title>
    <style>
        :root { --bg: #0a0a0a; --sidebar-bg: #111; --accent: #00ffcc; --text: #fff; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background: var(--bg); color: var(--text); font-family: 'Segoe UI', sans-serif; display: flex; height: 100vh; }

        /* SIDEBAR */
        #sidebar { width: 260px; background: var(--sidebar-bg); border-right: 1px solid #333; padding: 30px 20px; }
        #sidebar h2 { color: var(--accent); margin-bottom: 30px; font-size: 1.2rem; letter-spacing: 2px; }
        
        .menu-item { 
            padding: 15px; margin-bottom: 8px; border-radius: 8px; cursor: pointer; 
            transition: 0.3s; list-style: none; border-left: 3px solid transparent;
            text-transform: capitalize; 
        }
        .menu-item:hover, .menu-item.active { 
            background: rgba(0, 255, 204, 0.1); border-left-color: var(--accent); color: var(--accent); 
        }

        /* CONTENIDO */
        #main-content { flex-grow: 1; padding: 40px; overflow-y: auto; }
        #products-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 20px; }
        .product-card { background: #1a1a1a; padding: 20px; border-radius: 12px; border: 1px solid #333; }
        .placeholder { height: 120px; background: #252525; border-radius: 8px; margin-bottom: 15px; }

        /* UI de Voz */
        #voice-status { 
            position: fixed; bottom: 20px; right: 20px; padding: 15px 25px; 
            background: var(--accent); color: black; border-radius: 50px; 
            font-weight: bold; cursor: pointer; box-shadow: 0 0 20px rgba(0,255,204,0.4);
        }
        #listening-indicator { display: none; margin-left: 10px; font-size: 0.8rem; animation: blink 1s infinite; }
        @keyframes blink { 50% { opacity: 0; } }
    </style>
</head>
<body>

    <nav id="sidebar">
        <h2>TechStore</h2>
        <ul id="menu-list">
            <li class="menu-item active">Hardware</li>
            <li class="menu-item">Software</li>
            <li class="menu-item">Perif√©ricos</li>
            <li class="menu-item">C√°maras</li>
            <li class="menu-item">Configuraci√≥n</li>
        </ul>
    </nav>

    <main id="main-content">
        <header style="margin-bottom: 30px;">
            <h1 id="current-category">Secci√≥n: Hardware</h1>
        </header>
        <div id="products-grid">
            <div class="product-card"><div class="placeholder"></div><h3>Item Alpha</h3><p>$99</p></div>
            <div class="product-card"><div class="placeholder"></div><h3>Item Beta</h3><p>$149</p></div>
        </div>
    </main>

    <div id="voice-status" onclick="startListening()">
        üé§ ACTIVAR VOZ <span id="listening-indicator">ESCUCHANDO...</span>
    </div>

    <script>
        const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
        recognition.lang = 'es-ES';
        recognition.continuous = false;

        function startListening() {
            recognition.start();
            document.getElementById('listening-indicator').style.display = 'inline';
        }

        recognition.onresult = (event) => {
            const transcript = event.results[0][0].transcript.toLowerCase();
            console.log("Escuch√©:", transcript);
            
            // --- L√ìGICA DIN√ÅMICA ---
            // Obtenemos todos los elementos del men√∫ actuales
            const items = document.querySelectorAll('.menu-item');
            
            items.forEach(item => {
                const categoryName = item.innerText.toLowerCase();
                
                // Si lo que dije est√° incluido en el nombre de la categor√≠a
                if (transcript.includes(categoryName)) {
                    activateCategory(item);
                }
            });
            
            document.getElementById('listening-indicator').style.display = 'none';
        };

        function activateCategory(element) {
            // Quitar clase activa a todos
            document.querySelectorAll('.menu-item').forEach(i => i.classList.remove('active'));
            // Ponerla al seleccionado
            element.classList.add('active');
            // Cambiar el t√≠tulo de la p√°gina
            document.getElementById('current-category').innerText = "Secci√≥n: " + element.innerText;
            
            // Efecto visual de confirmaci√≥n
            element.style.transform = "scale(1.1)";
            setTimeout(() => element.style.transform = "scale(1)", 200);
        }

        recognition.onerror = () => {
            document.getElementById('listening-indicator').style.display = 'none';
        };
    </script>
</body>
</html>
